{"version":3,"sources":["site.js"],"names":["$","click","location","pathname","replace","this","hostname","target","length","hash","slice","scrollTop","animate","offset","top","collapse","scrollspy","curYear","Date","getFullYear","text","window","scroll","css","addClass","hasClass","removeClass","console","toggler","navbar","log","map_html","map","html","content_width","document","documentElement","clientWidth","show_map","jQuery","resize","LazyLoad","elements_selector"],"mappings":"cAAA,SAAUA,GAIRA,EAAE,kDAAkDC,MAAM,WAAxD,GAAAC,SAAAC,SAAAC,QAAA,MAAA,KAAAC,KAAFF,SAA0DC,QAAA,MAAW,KAAAF,SAAAI,UAAAD,KAAAC,SAAA,CACnE,IAAIJ,EAASC,EAAAA,KAASC,MAEpBG,IADAA,EAAIA,EAAWC,OAAfD,EAAAP,EAAA,SAAAK,KAAAI,KAAAC,MAAA,GAAA,MACSH,OAGLI,OADFX,EAAE,cAAcY,QAAQ,CADtBL,UAAOC,EAAQK,SAAAC,IAAA,IACf,MACAH,KAQRX,EAAE,sBAAsBC,MAAM,WAE5BD,EAAA,oBAAAe,SAAA,UAKFf,EAAE,QAAQgB,UAAU,CAClBT,OAAQ,WACRM,OAAQ,KAGV,IAAII,GAAU,IAAIC,MAAOC,cACX,KAAVF,GACFjB,EAAE,aAAaoB,KAAK,IAAMH,GAG5BjB,EAAEqB,QAAQC,OAAO,WACf,IAAIR,EAAMd,EAAEqB,QAAQV,YAEhBE,EAASC,EAAOA,EADR,EAGZd,EAAE,cAAcuB,IAAI,YAAa,cAAgBV,EAAS,OAGtD,IAAAC,EADJd,EAAA,aAEawB,SAAA,YACTxB,EAAA,mBAAyByB,SAA3B,cACDzB,EAAA,aAAA0B,YAAA,cAKD1B,EAAA,mBAAeC,MAAA,WAEf0B,IAAAA,EAAYC,EAAAA,mBAFRC,EAAS7B,EAAE,aAKb6B,QAAMC,IAACJ,EAAPD,SAAmB,cAEnBI,EAAAA,QAAOL,YAAP,KAAAI,EAAAH,SAAA,aACDI,EAAAH,YAAA,YAVH1B,EAAAqB,QAAAV,YAAA,IASIkB,EAAOL,SAAS,cAIS,IAAzBxB,EAAEqB,QAAQV,aAIdX,EAAM+B,aAAWP,SAAA,YAQbQ,SAAIC,IACL,IAAAC,EAAAC,SAAAC,gBAAAC,YACFL,EAAAhC,EAAA,iBAHsB,KAAjBkC,GAAsC,IAAdF,EAAIC,QAKlCK,EAAQL,KAPFC,+MAU8BI,IAjFtCtC,EAqFGuC,QArFHC,OAAAF,GAiFyB,IAAIG,SAAS,CAChCC,kBAAmB,QAlFzB,CAqFGH","file":"site.js","sourcesContent":["(function($) {\n  \"use strict\";\n\n  // Smooth scrolling using jQuery easing\n  $('a.js-scroll-trigger[href*=\"#\"]:not([href=\"#\"])').click(function() {\n    if (location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') && location.hostname == this.hostname) {\n      var target = $(this.hash);\n      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n      if (target.length) {\n        $('html, body').animate({\n          scrollTop: (target.offset().top - 56)\n        }, 1000);\n        return false;\n      }\n    }\n  });\n\n  // Closes responsive menu when a scroll trigger link is clicked\n  $('.js-scroll-trigger').click(function() {\n    // $('.js-scroll-trigger').removeClass('active');\n    // $(this).addClass('active');\n    $('.navbar-collapse').collapse('hide');\n  });\n\n  // Activate scrollspy to add active class to navbar items on scroll\n  $('body').scrollspy({\n    target: '#mainNav',\n    offset: 56\n  });\n\n  let curYear = new Date().getFullYear();\n  if (curYear > 2019) {\n    $('.cur-year').text('-' + curYear);\n  }\n\n  $(window).scroll(() => {\n    let top = $(window).scrollTop();\n    let speed = 2;\n    let offset = top - (top / speed);\n\n    $('.cover-img').css('transform', 'translateY(' + offset + 'px)');\n\n    if (top >= 50) {\n      $('.site-nav').addClass('bg-light');\n    } else if ($('.navbar-toggler').hasClass('collapsed')) {\n      $('.site-nav').removeClass('bg-light');\n    }\n  });\n\n  $('.navbar-toggler').click(function() {\n    let toggler = $('.navbar-toggler')\n    let navbar = $('.site-nav')\n\n    console.log(toggler.hasClass('collapsed'));\n\n    if ($(window).scrollTop() < 50 && !toggler.hasClass('collapsed')) {\n      navbar.removeClass('bg-light')\n    } else if($(window).scrollTop() < 50) {\n      navbar.addClass('bg-light');\n    }\n  });\n\n  if ($(window).scrollTop() >= 50) {\n    $('.site-nav').addClass('bg-light');\n  }\n\n  const map_html = '<iframe src=\"https://yandex.ru/map-widget/v1/' +\n    '?um=constructor%3A2ae2cc2ff306fb18d2ee89506bab7463914bcd1331bf89ff6d4ca890e716f0a9&amp;source=constructor\" ' +\n    'width=\"100%\" height=\"450\" frameborder=\"0\"></iframe>';\n\n  function show_map() {\n    let content_width = document.documentElement.clientWidth;\n    let map = $('.contacts-map');\n    if (content_width >= 768 && map.html() == '') {\n      map.html(map_html);\n    }\n  }\n\n  show_map();\n  $(window).resize(show_map);\n\n  let lazyLoadInstance = new LazyLoad({\n      elements_selector: \"img\"\n  });\n\n})(jQuery);\n"]}